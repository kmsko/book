(this.webpackJsonptest=this.webpackJsonptest||[]).push([[0],{48:function(e,t,s){},49:function(e,t,s){},78:function(e,t,s){"use strict";s.r(t);var c=s(0),r=s.n(c),a=s(19),n=s.n(a),o=(s(48),s(49),s(22)),i=s(15),l=s.n(i),j=s(23),d=s(29),b=s(5),u=s(40).create({baseURL:"https://www.googleapis.com/books/v1/volumes"}),h="&key=AIzaSyDpM1nzF1_LDeDsgBln9osUhWVedc4H57E",O=function(e){return u.get("?q=".concat(e.textBooks).concat(e.categories,"&orderBy=").concat(e.sortingBy,"&startIndex=0&maxResults=30")+h)},m=function(e){return u.get("?q=".concat(e.textBooks,"&startIndex=").concat(e.startIndex,"&maxResults=10")+h)},x=function(e){return u.get("/".concat(e,"?key=AIzaSyDpM1nzF1_LDeDsgBln9osUhWVedc4H57E"))},p="SET-SEARCH",g="SET-SETTINGS-SEARCH",v="ADD-BOOK",A="END-BOOK",k="SET-BOOK",f="SET-PRELOADER",I={resultSearch:null,settingsSearch:{startIndex:0,maxResults:10,textTitl:"",categories:"",sorting:""},totalItems:null,end:!1,book:null},S=function(e){return{type:"END-BOOK",end:e}},_=function(e){return{type:"SET-BOOK",set:e}},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(b.a)(Object(b.a)({},e),{},{resultSearch:t.search_data,totalItems:t.totalItems});case g:return Object(b.a)(Object(b.a)({},e),{},{settingsSearch:Object(b.a)(Object(b.a)({},e.settingsSearch),{},{startIndex:t.settings_search.startIndex})});case v:var s=Object(d.a)(e.resultSearch);return t.moreBook.map((function(e){return s.push(e)})),Object(b.a)(Object(b.a)({},e),{},{resultSearch:Object(d.a)(s)});case A:return Object(b.a)(Object(b.a)({},e),{},{end:t.end});case k:return Object(b.a)(Object(b.a)({},e),{},{book:t.set});case f:return Object(b.a)(Object(b.a)({},e),{},{resultSearch:t.setPreloader});default:return e}},N=s(17),y=s(3),E=s(1),w=function(e){var t=Object(y.e)();return Object(E.jsxs)("div",{className:"form_search",children:[Object(E.jsx)("div",{children:"Search for books"}),Object(E.jsx)(N.c,{initialValues:{textBooks:"",categories:"",sortingBy:""},onSubmit:function(t,s){var c=s.setSubmitting;t.sortingBy||(t.sortingBy="relevance");var r={textBooks:t.textBooks,categories:"+subject:".concat(t.categories),sortingBy:t.sortingBy};"+subject:"!==r.categories&&"+subject:all"!==r.categories||(r.categories=""),e.searchAPI(r),c(!1)},children:Object(E.jsxs)(N.b,{className:"search_block",children:[Object(E.jsxs)("div",{children:["\u041f\u043e\u0438\u0441\u043a:",Object(E.jsx)(N.a,{className:"search_text_book",type:"text",name:"textBooks",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043d\u0438\u0433\u0438"})]}),Object(E.jsxs)("div",{children:["\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438:",Object(E.jsxs)(N.a,{className:"search_categories",name:"categories",component:"select",children:[Object(E.jsx)("option",{value:"all",children:"all"}),Object(E.jsx)("option",{value:"art",children:"art"}),Object(E.jsx)("option",{value:"biography",children:"biography"}),Object(E.jsx)("option",{value:"computers",children:"computers"}),Object(E.jsx)("option",{value:"history",children:"history"}),Object(E.jsx)("option",{value:"medical",children:"medical"}),Object(E.jsx)("option",{value:"poetry",children:"poetry"})]})]}),Object(E.jsxs)("div",{children:["\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430:",Object(E.jsxs)(N.a,{className:"search_sorting",name:"sortingBy",component:"select",children:[Object(E.jsx)("option",{value:"relevance",children:"relevance"}),Object(E.jsx)("option",{value:"newest",children:"newest"})]})]}),Object(E.jsxs)("button",{onClick:function(){return t.push("/books")},className:"search_submit",children:[Object(E.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAAAnNCSVQICFXsRgQAAAAJcEhZcwAAA+MAAAPjATxIe2MAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAA7ElEQVQokXXQvyvEcRgH8JcBKSeKZLdIjDIqfwBxg93AzGKSMlD8BzZFVywGRt2qrpzBr0GMuMElA+Eew9ed77lu/bxfz/N8nkcIQb8teWW39k0nb79JCGaVhBd5176FPd0pYELFs5lar0PhpAZ0uvdmsK7tjjBfBVlhKR0HXUoKVbAhDNWD4MiH1gQcqGhrANsiGcu6MNIAjn0mZUwJq//iXmXF6h/aXXo3mopb5ITs3x3GfHm1qCMEw06Fu/pLTnoQPl14EsKjsJkCQcaynBsFu8ZlnAlrKdCwRY+isNIUBH2uhLmmIBhwbuEHCBzTw83NK4UAAAAASUVORK5CYII=",alt:""}),"\u041d\u0430\u0439\u0442\u0438"]})]})})]})},R=s.p+"static/media/default_img_book.e65eaac5.jpg",T=s.p+"static/media/preloader.49045fdb.gif",D=function(){return Object(E.jsx)("div",{children:Object(E.jsx)("img",{className:"preloader",src:T,alt:"1"})})},C=function(e){var t=Object(y.e)();return Object(E.jsxs)("div",{children:[!0===e.resultSearch?Object(E.jsx)(D,{}):Object(E.jsxs)("div",{className:"section_search_item",children:[Object(E.jsxs)("div",{className:"total_book",children:["\u0412\u0441\u0435\u0433\u043e \u043d\u0430\u0448\u043b\u043e\u0441\u044c: ",Object(E.jsx)("span",{className:"total_book__bold",children:e.totalItems}),"  \u043a\u043d\u0438\u0433"]}),Object(E.jsx)("div",{className:"wrapper_card_book",children:e.resultSearch?e.resultSearch.map((function(s){return Object(E.jsxs)("div",{onClick:function(){return function(s){t.push("/book/"+s.id),e.getBook(s.id)}(s)},className:"card_book",children:[Object(E.jsx)("div",{children:Object(E.jsx)("img",{className:"image_book",src:s.volumeInfo.imageLinks?s.volumeInfo.imageLinks.thumbnail:R,alt:"1"})}),Object(E.jsxs)("div",{className:"card_book_categories",children:["\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f: ",s.volumeInfo.categories?s.volumeInfo.categories[0]:""]}),Object(E.jsxs)("div",{className:"card_book_title",children:["\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435: ",s.volumeInfo.title?s.volumeInfo.title:""]}),Object(E.jsxs)("div",{className:"card_book_authors",children:["\u0410\u0432\u0442\u043e\u0440: ",s.volumeInfo.authors?s.volumeInfo.authors.join(", "):""]})]},s.id)})):Object(E.jsx)("div",{})})]}),!1===e.end&&e.resultSearch?Object(E.jsx)("div",{className:"load_more_wrapper",children:Object(E.jsx)("button",{className:"load_more",onClick:function(){e.loadMoreAPI({startIndex:e.settingsSearch.startIndex+30,textTitl:e.settingsSearch.textTitl,categories:e.settingsSearch.categories,sorting:e.settingsSearch.sorting})},children:"Load more"})}):!0===e.end?Object(E.jsxs)("div",{className:"load_more_wrapper",children:[" ",Object(E.jsx)(D,{})]}):"\u041a\u043d\u0438\u0433 \u0431\u043e\u043b\u044c\u0448\u0435 \u043d\u0435\u0442"===e.end&&Object(E.jsx)("div",{children:e.end})]})},K=function(e){return Object(E.jsx)("div",{children:!1===e.book?Object(E.jsx)(D,{}):null===e.book?Object(E.jsx)("div",{children:"\u043a\u043d\u0438\u0433\u0430 \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u0430"}):Object(E.jsxs)("div",{className:"wrapper_book",children:[Object(E.jsx)("div",{className:"image_book_wrapper",children:Object(E.jsx)("img",{className:"image_book",src:e.book.imageLinks?e.book.imageLinks.thumbnail:R,alt:"1"})}),Object(E.jsxs)("div",{className:"annotation_book",children:[Object(E.jsxs)("div",{children:["\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438:\xa0",e.book.categories?e.book.categories.map((function(e){return Object(E.jsxs)("span",{children:[" ",e," "]})})):Object(E.jsx)("span",{children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 \u043d\u0435\u0442"})]}),Object(E.jsxs)("div",{children:[" \u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a:\xa0",e.book.title?Object(E.jsx)("span",{children:e.book.title}):Object(E.jsx)("div",{children:"\u041d\u0435\u0442 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0430"})]}),Object(E.jsxs)("div",{children:["\u0410\u0432\u0442\u043e\u0440:\xa0",e.book.authors?e.book.authors.map((function(e){return Object(E.jsx)("span",{children:e})})):Object(E.jsx)("div",{children:"\u0410\u0432\u0442\u043e\u0440 \u043d\u0435\u043d\u0430\u0439\u0434\u0435\u043d"})]}),Object(E.jsxs)("div",{className:"description_book",children:[" \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:\xa0",e.book.description?Object(E.jsx)("span",{dangerouslySetInnerHTML:{__html:e.book.description}}):Object(E.jsx)("div",{children:"\u041d\u0435\u0442 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f"})]})]})]})})};var M=Object(o.b)((function(e){return{resultSearch:e.search.resultSearch,settingsSearch:e.search.settingsSearch,end:e.search.end,totalItems:e.search.totalItems,book:e.search.book}}),{loadMoreAPI:function(e){return function(){var t=Object(j.a)(l.a.mark((function t(s){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s(S(!0)),t.next=3,m(e);case 3:c=t.sent,s({type:"SET-SETTINGS-SEARCH",settings_search:e}),c.data.items?(s({type:"ADD-BOOK",moreBook:c.data.items}),s(S(!1))):s(S("\u041a\u043d\u0438\u0433 \u0431\u043e\u043b\u044c\u0448\u0435 \u043d\u0435\u0442"));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},searchAPI:function(e){return function(){var t=Object(j.a)(l.a.mark((function t(s){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s({type:"SET-PRELOADER",setPreloader:!0}),t.next=3,O(e);case 3:c=t.sent,s((r=c.data.items,a=c.data.totalItems,{type:"SET-SEARCH",search_data:r,totalItems:a})),s(S(!1));case 6:case"end":return t.stop()}var r,a}),t)})));return function(e){return t.apply(this,arguments)}}()},getBook:function(e){return function(){var t=Object(j.a)(l.a.mark((function t(s){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s(_(!1)),t.next=3,x(e);case 3:(c=t.sent).data.volumeInfo&&s(_(c.data.volumeInfo));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){return Object(E.jsxs)("div",{className:"app",children:[Object(E.jsx)(w,{searchAPI:e.searchAPI}),Object(E.jsx)(y.a,{path:"/books/",render:function(){return Object(E.jsx)(C,{getBook:e.getBook,totalItems:e.totalItems,end:e.end,settingsSearch:e.settingsSearch,loadMoreAPI:e.loadMoreAPI,resultSearch:e.resultSearch})}}),Object(E.jsx)(y.a,{path:"/book/:id",render:function(){return Object(E.jsx)(K,{book:e.book})}})]})})),P=s(18),L=s(24),H=s(43),V=Object(L.b)({search:B}),F=Object(L.c)(V,Object(L.a)(H.a));n.a.render(Object(E.jsx)(r.a.StrictMode,{children:Object(E.jsx)(P.a,{children:Object(E.jsx)(o.a,{store:F,children:Object(E.jsx)(M,{})})})}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.ce8eed84.chunk.js.map